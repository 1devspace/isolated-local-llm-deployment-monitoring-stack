<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-security" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Security &amp; Network Isolation | 🧠 Isolated Local LLM Stack</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mohamedaminehamdi.github.io/Isolated-Local-LLM-Deployment-Monitoring-Stack/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://mohamedaminehamdi.github.io/Isolated-Local-LLM-Deployment-Monitoring-Stack/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://mohamedaminehamdi.github.io/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/security"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Security &amp; Network Isolation | 🧠 Isolated Local LLM Stack"><meta data-rh="true" name="description" content="This guide explains the security features and network isolation mechanisms that make this LLM stack suitable for sensitive environments, including air-gapped deployments."><meta data-rh="true" property="og:description" content="This guide explains the security features and network isolation mechanisms that make this LLM stack suitable for sensitive environments, including air-gapped deployments."><link data-rh="true" rel="icon" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mohamedaminehamdi.github.io/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/security"><link data-rh="true" rel="alternate" href="https://mohamedaminehamdi.github.io/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/security" hreflang="en"><link data-rh="true" rel="alternate" href="https://mohamedaminehamdi.github.io/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/security" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Security & Network Isolation","item":"https://mohamedaminehamdi.github.io/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/security"}]}</script><link rel="alternate" type="application/rss+xml" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/blog/rss.xml" title="🧠 Isolated Local LLM Stack RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/blog/atom.xml" title="🧠 Isolated Local LLM Stack Atom Feed"><link rel="stylesheet" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/assets/css/styles.8d73797e.css">
<script src="/Isolated-Local-LLM-Deployment-Monitoring-Stack/assets/js/runtime~main.35dde2a1.js" defer="defer"></script>
<script src="/Isolated-Local-LLM-Deployment-Monitoring-Stack/assets/js/main.1246bfb2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/"><div class="navbar__logo"><img src="/Isolated-Local-LLM-Deployment-Monitoring-Stack/img/logo.svg" alt="LLM Stack Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Isolated-Local-LLM-Deployment-Monitoring-Stack/img/logo.svg" alt="LLM Stack Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">🧠 LLM Stack</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/mohamedaminehamdi/Isolated-Local-LLM-Deployment-Monitoring-Stack" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/intro">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/llm-deployment">LLM Deployment Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/monitoring">Monitoring Stack Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/security">Security &amp; Network Isolation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/troubleshooting">Troubleshooting Guide</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Security &amp; Network Isolation</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Security &amp; Network Isolation</h1></header>
<p>This guide explains the security features and network isolation mechanisms that make this LLM stack suitable for sensitive environments, including air-gapped deployments.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-security-overview">🔒 Security Overview<a href="#-security-overview" class="hash-link" aria-label="Direct link to 🔒 Security Overview" title="Direct link to 🔒 Security Overview">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-security-features">Key Security Features<a href="#key-security-features" class="hash-link" aria-label="Direct link to Key Security Features" title="Direct link to Key Security Features">​</a></h3>
<ul>
<li><strong>Network Isolation</strong>: Services run in isolated Docker networks</li>
<li><strong>Localhost-only Binding</strong>: No external network exposure</li>
<li><strong>Air-gapped Compatible</strong>: No mandatory internet dependencies</li>
<li><strong>Container Isolation</strong>: Process and filesystem isolation via Docker</li>
<li><strong>Persistent Data Encryption</strong>: Optional volume encryption support</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-network-architecture">🌐 Network Architecture<a href="#-network-architecture" class="hash-link" aria-label="Direct link to 🌐 Network Architecture" title="Direct link to 🌐 Network Architecture">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="isolated-networks">Isolated Networks<a href="#isolated-networks" class="hash-link" aria-label="Direct link to Isolated Networks" title="Direct link to Isolated Networks">​</a></h3>
<p>The stack uses two separate Docker networks to prevent unauthorized access:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># LLM Network (ollama-net)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker network create ollama-net</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Monitoring Network (monitor-net)  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker network create monitor-net</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-topology">Network Topology<a href="#network-topology" class="hash-link" aria-label="Direct link to Network Topology" title="Direct link to Network Topology">​</a></h3>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">graph TB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    subgraph &quot;Host System&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        subgraph &quot;ollama-net&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            A[Ollama&lt;br/&gt;Port: 11434 internal]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            B[Open WebUI&lt;br/&gt;Port: 8080 internal]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            A &lt;--&gt; B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        subgraph &quot;monitor-net&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            C[Prometheus&lt;br/&gt;Port: 9090 internal]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            D[Grafana&lt;br/&gt;Port: 3000 internal]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            E[cAdvisor&lt;br/&gt;Port: 8080 internal]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            F[Node Exporter&lt;br/&gt;Port: 9100 internal]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            C &lt;--&gt; D</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            C &lt;--&gt; E</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            C &lt;--&gt; F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        subgraph &quot;Host Ports (Localhost Only)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            G[127.0.0.1:11444 → Ollama]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            H[127.0.0.1:8081 → WebUI]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            I[127.0.0.1:9090 → Prometheus]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            J[127.0.0.1:4001 → Grafana]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    K[External Network] -.-&gt;|Blocked| G</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    K -.-&gt;|Blocked| H</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    K -.-&gt;|Blocked| I</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    K -.-&gt;|Blocked| J</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-security-mechanisms">🛡️ Security Mechanisms<a href="#️-security-mechanisms" class="hash-link" aria-label="Direct link to 🛡️ Security Mechanisms" title="Direct link to 🛡️ Security Mechanisms">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-localhost-only-port-binding">1. Localhost-only Port Binding<a href="#1-localhost-only-port-binding" class="hash-link" aria-label="Direct link to 1. Localhost-only Port Binding" title="Direct link to 1. Localhost-only Port Binding">​</a></h3>
<p>All services are bound only to <code>127.0.0.1</code>, preventing external access:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># ✅ Secure: Localhost only</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 127.0.0.1:11444:11434</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ❌ Insecure: All interfaces</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-p 11444:11434</span><br></span></code></pre></div></div>
<p><strong>Verification:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Check port bindings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">netstat -tlnp | grep -E &quot;(11444|8081|9090|4001)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Expected output shows 127.0.0.1 only:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># tcp 0 0 127.0.0.1:11444 0.0.0.0:* LISTEN</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-container-network-isolation">2. Container Network Isolation<a href="#2-container-network-isolation" class="hash-link" aria-label="Direct link to 2. Container Network Isolation" title="Direct link to 2. Container Network Isolation">​</a></h3>
<p>Services communicate through internal Docker networks, not the host:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Internal communication (secure)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OLLAMA_BASE_URL=http://ollama:11434</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># External communication (avoided)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># OLLAMA_BASE_URL=http://localhost:11444</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-process-isolation">3. Process Isolation<a href="#3-process-isolation" class="hash-link" aria-label="Direct link to 3. Process Isolation" title="Direct link to 3. Process Isolation">​</a></h3>
<p>Each service runs in its own container with limited privileges:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Run containers with security options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run --security-opt no-new-privileges:true \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           --read-only \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           --tmpfs /tmp \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           your-image</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-access-control">🔐 Access Control<a href="#-access-control" class="hash-link" aria-label="Direct link to 🔐 Access Control" title="Direct link to 🔐 Access Control">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-authentication">Default Authentication<a href="#default-authentication" class="hash-link" aria-label="Direct link to Default Authentication" title="Direct link to Default Authentication">​</a></h3>
<p><strong>Open WebUI:</strong></p>
<ul>
<li>Requires user account creation on first access</li>
<li>Supports multiple user accounts</li>
<li>Chat history isolated per user</li>
<li>Admin controls for user management</li>
</ul>
<p><strong>Grafana:</strong></p>
<ul>
<li>Default: <code>admin</code> / <code>admin</code></li>
<li>Change password on first login</li>
<li>Role-based access control available</li>
<li>Dashboard sharing controls</li>
</ul>
<p><strong>Prometheus:</strong></p>
<ul>
<li>No authentication by default</li>
<li>Network isolation provides security</li>
<li>Can add authentication via reverse proxy</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enhanced-security-setup">Enhanced Security Setup<a href="#enhanced-security-setup" class="hash-link" aria-label="Direct link to Enhanced Security Setup" title="Direct link to Enhanced Security Setup">​</a></h3>
<p>For production or sensitive environments:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. Create dedicated user for containers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo useradd -r -s /bin/false llm-user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. Run containers with specific user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --name ollama \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --user $(id -u llm-user):$(id -g llm-user) \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --network ollama-net \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p 127.0.0.1:11444:11434 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ollama/ollama</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. Set proper file permissions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo chown -R llm-user:llm-user /var/lib/docker/volumes/ollama-data</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-air-gapped-deployment">🏰 Air-gapped Deployment<a href="#-air-gapped-deployment" class="hash-link" aria-label="Direct link to 🏰 Air-gapped Deployment" title="Direct link to 🏰 Air-gapped Deployment">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites-for-offline-installation">Prerequisites for Offline Installation<a href="#prerequisites-for-offline-installation" class="hash-link" aria-label="Direct link to Prerequisites for Offline Installation" title="Direct link to Prerequisites for Offline Installation">​</a></h3>
<ol>
<li><strong>Download Docker images</strong> on internet-connected machine:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Pull all required images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull ollama/ollama:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull ghcr.io/open-webui/open-webui:main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull prom/prometheus:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull grafana/grafana:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull gcr.io/cadvisor/cadvisor:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker pull prom/node-exporter:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Save images to files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker save -o ollama.tar ollama/ollama:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker save -o webui.tar ghcr.io/open-webui/open-webui:main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker save -o prometheus.tar prom/prometheus:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker save -o grafana.tar grafana/grafana:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker save -o cadvisor.tar gcr.io/cadvisor/cadvisor:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker save -o node-exporter.tar prom/node-exporter:latest</span><br></span></code></pre></div></div>
<ol start="2">
<li>
<p><strong>Transfer to air-gapped system</strong> via secure media</p>
</li>
<li>
<p><strong>Load images</strong> on air-gapped system:</p>
</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Load all images</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker load -i ollama.tar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker load -i webui.tar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker load -i prometheus.tar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker load -i grafana.tar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker load -i cadvisor.tar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker load -i node-exporter.tar</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pre-download-models">Pre-download Models<a href="#pre-download-models" class="hash-link" aria-label="Direct link to Pre-download Models" title="Direct link to Pre-download Models">​</a></h3>
<p>Download models on internet-connected system:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Run Ollama temporarily</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d --name ollama-temp -v ollama-models:/root/.ollama ollama/ollama</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Download models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec ollama-temp ollama pull llama3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec ollama-temp ollama pull codellama</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker exec ollama-temp ollama pull mistral</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Stop and backup model data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker stop ollama-temp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run --rm -v ollama-models:/data -v $(pwd):/backup alpine tar czf /backup/models.tar.gz -C /data .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Transfer models.tar.gz to air-gapped system</span><br></span></code></pre></div></div>
<p>Restore on air-gapped system:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Create volume and restore models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker volume create ollama-data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run --rm -v ollama-data:/data -v $(pwd):/backup alpine tar xzf /backup/models.tar.gz -C /data</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-security-monitoring">🔍 Security Monitoring<a href="#-security-monitoring" class="hash-link" aria-label="Direct link to 🔍 Security Monitoring" title="Direct link to 🔍 Security Monitoring">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="log-analysis">Log Analysis<a href="#log-analysis" class="hash-link" aria-label="Direct link to Log Analysis" title="Direct link to Log Analysis">​</a></h3>
<p>Monitor security-relevant events:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Container security events</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker logs ollama 2&gt;&amp;1 | grep -i &quot;error\|fail\|unauthorized&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># System security logs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo tail -f /var/log/syslog | grep -i docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Network connection monitoring</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo netstat -tulnp | grep -E &quot;(11444|8081|9090|4001)&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prometheus-security-metrics">Prometheus Security Metrics<a href="#prometheus-security-metrics" class="hash-link" aria-label="Direct link to Prometheus Security Metrics" title="Direct link to Prometheus Security Metrics">​</a></h3>
<p>Add security monitoring queries:</p>
<div class="language-promql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-promql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Failed authentication attempts (if auth enabled)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">increase(http_requests_total{code=&quot;401&quot;}[5m])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Unusual network activity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rate(container_network_transmit_bytes_total[5m]) &gt; 1000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Container restarts (potential security issues)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">increase(container_start_time_seconds[5m]) &gt; 0</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="grafana-security-dashboard">Grafana Security Dashboard<a href="#grafana-security-dashboard" class="hash-link" aria-label="Direct link to Grafana Security Dashboard" title="Direct link to Grafana Security Dashboard">​</a></h3>
<p>Create alerts for security events:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;alert&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Unauthorized Access Attempt&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;conditions&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;query&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;expr&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;increase(http_requests_total{code=\&quot;401\&quot;}[5m]) &gt; 5&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;executionErrorState&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;alerting&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;noDataState&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;no_data&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;for&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1m&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-security-best-practices">🚨 Security Best Practices<a href="#-security-best-practices" class="hash-link" aria-label="Direct link to 🚨 Security Best Practices" title="Direct link to 🚨 Security Best Practices">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="container-security">Container Security<a href="#container-security" class="hash-link" aria-label="Direct link to Container Security" title="Direct link to Container Security">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. Use specific image tags (not &#x27;latest&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d ollama/ollama:v0.1.32</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. Limit container resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --memory=&quot;4g&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --cpus=&quot;2.0&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --pids-limit=100 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ollama/ollama</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. Run with read-only root filesystem where possible</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --read-only \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --tmpfs /tmp \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --tmpfs /var/run \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  your-image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 4. Drop unnecessary capabilities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --cap-drop=ALL \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --cap-add=CHOWN \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --cap-add=SETUID \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --cap-add=SETGID \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  your-image</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="host-security">Host Security<a href="#host-security" class="hash-link" aria-label="Direct link to Host Security" title="Direct link to Host Security">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. Keep Docker updated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update &amp;&amp; sudo apt upgrade docker.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. Configure Docker daemon security</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo vim /etc/docker/daemon.json</span><br></span></code></pre></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">/etc/docker/daemon.json</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;live-restore&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;userland-proxy&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;no-new-privileges&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;log-driver&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;json-file&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;log-opts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;max-size&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10m&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;max-file&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-security">Data Security<a href="#data-security" class="hash-link" aria-label="Direct link to Data Security" title="Direct link to Data Security">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 1. Encrypt Docker volumes (Linux with LUKS)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo cryptsetup luksFormat /dev/sdb1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo cryptsetup luksOpen /dev/sdb1 docker-encrypted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo mkfs.ext4 /dev/mapper/docker-encrypted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo mount /dev/mapper/docker-encrypted /var/lib/docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. Backup encryption</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tar czf - /var/lib/docker/volumes/ollama-data | gpg --symmetric --cipher-algo AES256 &gt; ollama-backup.tar.gz.gpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. Secure file permissions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo chmod 700 /var/lib/docker/volumes/ollama-data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo chown root:root /var/lib/docker/volumes/ollama-data</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-security-verification">🔬 Security Verification<a href="#-security-verification" class="hash-link" aria-label="Direct link to 🔬 Security Verification" title="Direct link to 🔬 Security Verification">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-security-audit">Network Security Audit<a href="#network-security-audit" class="hash-link" aria-label="Direct link to Network Security Audit" title="Direct link to Network Security Audit">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># security-audit.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;=== Docker Network Security Audit ===&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check port bindings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;1. Checking port bindings...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">netstat -tlnp | grep -E &quot;(11444|8081|9090|4001)&quot; | while read line; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if echo &quot;$line&quot; | grep -q &quot;127.0.0.1&quot;; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;✅ $line (localhost only)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;❌ $line (external access possible!)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check network isolation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -e &quot;\n2. Checking network isolation...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker network ls | grep -E &quot;(ollama-net|monitor-net)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check container security</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -e &quot;\n3. Checking container security...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker ps --format &quot;table {{.Names}}\t{{.Ports}}&quot; | grep -E &quot;(ollama|webui|prometheus|grafana)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check for privileged containers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -e &quot;\n4. Checking for privileged containers...&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker ps --filter &quot;label=privileged=true&quot; --format &quot;{{.Names}}&quot; | while read container; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if [ -n &quot;$container&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;⚠️  Privileged container found: $container&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -e &quot;\n=== Audit Complete ===&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-security-audit">Run Security Audit<a href="#run-security-audit" class="hash-link" aria-label="Direct link to Run Security Audit" title="Direct link to Run Security Audit">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">chmod +x security-audit.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./security-audit.sh</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-security-checklist">📋 Security Checklist<a href="#-security-checklist" class="hash-link" aria-label="Direct link to 📋 Security Checklist" title="Direct link to 📋 Security Checklist">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pre-deployment">Pre-deployment<a href="#pre-deployment" class="hash-link" aria-label="Direct link to Pre-deployment" title="Direct link to Pre-deployment">​</a></h3>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Network isolation</strong>: Created separate Docker networks</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Port binding</strong>: All services bound to localhost only</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Image verification</strong>: Using official images from trusted sources</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Resource limits</strong>: Set memory and CPU limits for containers</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>User permissions</strong>: Running containers with non-root users where possible</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="post-deployment">Post-deployment<a href="#post-deployment" class="hash-link" aria-label="Direct link to Post-deployment" title="Direct link to Post-deployment">​</a></h3>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Access testing</strong>: Verified external access is blocked</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Authentication</strong>: Changed default passwords</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Monitoring</strong>: Set up security monitoring and alerts</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Backups</strong>: Implemented secure backup procedures</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Updates</strong>: Planned for regular security updates</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="air-gapped-environments">Air-gapped Environments<a href="#air-gapped-environments" class="hash-link" aria-label="Direct link to Air-gapped Environments" title="Direct link to Air-gapped Environments">​</a></h3>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Image preparation</strong>: Pre-downloaded all required images</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Model preparation</strong>: Pre-downloaded required models</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Dependency isolation</strong>: Verified no internet dependencies</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Transfer security</strong>: Used secure methods for data transfer</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Verification</strong>: Confirmed functionality without internet access</li>
</ul>
<hr>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Security Notice</div><div class="admonitionContent_BuS1"><p>While this stack provides strong isolation and security features, always conduct your own security assessment based on your specific requirements and threat model. Consider additional security measures for highly sensitive environments.</p></div></div>
<p>Next: <a href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/troubleshooting">Troubleshooting →</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/mohamedaminehamdi/Isolated-Local-LLM-Deployment-Monitoring-Stack/tree/main/docs/docs/security.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/monitoring"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Monitoring Stack Setup</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/troubleshooting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-security-overview" class="table-of-contents__link toc-highlight">🔒 Security Overview</a><ul><li><a href="#key-security-features" class="table-of-contents__link toc-highlight">Key Security Features</a></li></ul></li><li><a href="#-network-architecture" class="table-of-contents__link toc-highlight">🌐 Network Architecture</a><ul><li><a href="#isolated-networks" class="table-of-contents__link toc-highlight">Isolated Networks</a></li><li><a href="#network-topology" class="table-of-contents__link toc-highlight">Network Topology</a></li></ul></li><li><a href="#️-security-mechanisms" class="table-of-contents__link toc-highlight">🛡️ Security Mechanisms</a><ul><li><a href="#1-localhost-only-port-binding" class="table-of-contents__link toc-highlight">1. Localhost-only Port Binding</a></li><li><a href="#2-container-network-isolation" class="table-of-contents__link toc-highlight">2. Container Network Isolation</a></li><li><a href="#3-process-isolation" class="table-of-contents__link toc-highlight">3. Process Isolation</a></li></ul></li><li><a href="#-access-control" class="table-of-contents__link toc-highlight">🔐 Access Control</a><ul><li><a href="#default-authentication" class="table-of-contents__link toc-highlight">Default Authentication</a></li><li><a href="#enhanced-security-setup" class="table-of-contents__link toc-highlight">Enhanced Security Setup</a></li></ul></li><li><a href="#-air-gapped-deployment" class="table-of-contents__link toc-highlight">🏰 Air-gapped Deployment</a><ul><li><a href="#prerequisites-for-offline-installation" class="table-of-contents__link toc-highlight">Prerequisites for Offline Installation</a></li><li><a href="#pre-download-models" class="table-of-contents__link toc-highlight">Pre-download Models</a></li></ul></li><li><a href="#-security-monitoring" class="table-of-contents__link toc-highlight">🔍 Security Monitoring</a><ul><li><a href="#log-analysis" class="table-of-contents__link toc-highlight">Log Analysis</a></li><li><a href="#prometheus-security-metrics" class="table-of-contents__link toc-highlight">Prometheus Security Metrics</a></li><li><a href="#grafana-security-dashboard" class="table-of-contents__link toc-highlight">Grafana Security Dashboard</a></li></ul></li><li><a href="#-security-best-practices" class="table-of-contents__link toc-highlight">🚨 Security Best Practices</a><ul><li><a href="#container-security" class="table-of-contents__link toc-highlight">Container Security</a></li><li><a href="#host-security" class="table-of-contents__link toc-highlight">Host Security</a></li><li><a href="#data-security" class="table-of-contents__link toc-highlight">Data Security</a></li></ul></li><li><a href="#-security-verification" class="table-of-contents__link toc-highlight">🔬 Security Verification</a><ul><li><a href="#network-security-audit" class="table-of-contents__link toc-highlight">Network Security Audit</a></li><li><a href="#run-security-audit" class="table-of-contents__link toc-highlight">Run Security Audit</a></li></ul></li><li><a href="#-security-checklist" class="table-of-contents__link toc-highlight">📋 Security Checklist</a><ul><li><a href="#pre-deployment" class="table-of-contents__link toc-highlight">Pre-deployment</a></li><li><a href="#post-deployment" class="table-of-contents__link toc-highlight">Post-deployment</a></li><li><a href="#air-gapped-environments" class="table-of-contents__link toc-highlight">Air-gapped Environments</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/llm-deployment">LLM Deployment</a></li><li class="footer__item"><a class="footer__link-item" href="/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/monitoring">Monitoring Stack</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Project</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/mohamedaminehamdi/Isolated-Local-LLM-Deployment-Monitoring-Stack" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/mohamedaminehamdi/Isolated-Local-LLM-Deployment-Monitoring-Stack/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/mohamedaminehamdi/Isolated-Local-LLM-Deployment-Monitoring-Stack/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contributing<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Stack Components</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ollama.ai/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ollama<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/open-webui/open-webui" target="_blank" rel="noopener noreferrer" class="footer__link-item">Open WebUI<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://prometheus.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Prometheus<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://grafana.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grafana<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Isolated Local LLM Stack. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>