"use strict";(self.webpackChunkdocs_temp=self.webpackChunkdocs_temp||[]).push([[503],{2037:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"monitoring","title":"Monitoring Stack Setup","description":"Add comprehensive monitoring to your LLM deployment with Prometheus, Grafana, cAdvisor, and Node Exporter. Get real-time insights into system performance, resource usage, and container metrics.","source":"@site/docs/monitoring.md","sourceDirName":".","slug":"/monitoring","permalink":"/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/monitoring","draft":false,"unlisted":false,"editUrl":"https://github.com/mohamedaminehamdi/Isolated-Local-LLM-Deployment-Monitoring-Stack/tree/main/docs/docs/monitoring.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"LLM Deployment Guide","permalink":"/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/llm-deployment"},"next":{"title":"Security & Network Isolation","permalink":"/Isolated-Local-LLM-Deployment-Monitoring-Stack/docs/security"}}');var o=r(4848),t=r(8453);const i={sidebar_position:3},a="Monitoring Stack Setup",l={},c=[{value:"\ud83c\udfaf Monitoring Components",id:"-monitoring-components",level:2},{value:"\ud83d\udd39 Step 1: Create Monitoring Network",id:"-step-1-create-monitoring-network",level:2},{value:"\ud83d\udd39 Step 2: Configure Prometheus",id:"-step-2-configure-prometheus",level:2},{value:"Create Configuration File",id:"create-configuration-file",level:3},{value:"Deploy Prometheus",id:"deploy-prometheus",level:3},{value:"\ud83d\udd39 Step 3: Deploy cAdvisor",id:"-step-3-deploy-cadvisor",level:2},{value:"\ud83d\udd39 Step 4: Deploy Node Exporter",id:"-step-4-deploy-node-exporter",level:2},{value:"\ud83d\udd39 Step 5: Deploy Grafana",id:"-step-5-deploy-grafana",level:2},{value:"\ud83c\udfa8 Configure Grafana Dashboards",id:"-configure-grafana-dashboards",level:2},{value:"1. Access Grafana",id:"1-access-grafana",level:3},{value:"2. Add Prometheus Data Source",id:"2-add-prometheus-data-source",level:3},{value:"3. Import Pre-built Dashboards",id:"3-import-pre-built-dashboards",level:3},{value:"Node Exporter Dashboard",id:"node-exporter-dashboard",level:4},{value:"Docker Container Dashboard",id:"docker-container-dashboard",level:4},{value:"Custom LLM Dashboard",id:"custom-llm-dashboard",level:4},{value:"\ud83d\udcca Key Metrics to Monitor",id:"-key-metrics-to-monitor",level:2},{value:"System Metrics",id:"system-metrics",level:3},{value:"Container Metrics",id:"container-metrics",level:3},{value:"Custom Alerts",id:"custom-alerts",level:3},{value:"\ud83d\udd27 Monitoring Commands",id:"-monitoring-commands",level:2},{value:"Check Services Status",id:"check-services-status",level:3},{value:"Prometheus Queries",id:"prometheus-queries",level:3},{value:"Backup Monitoring Data",id:"backup-monitoring-data",level:3},{value:"\ud83d\udd17 Connect Monitoring to LLM Stack",id:"-connect-monitoring-to-llm-stack",level:2},{value:"\ud83d\udea8 Troubleshooting",id:"-troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Performance Optimization",id:"performance-optimization",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"monitoring-stack-setup",children:"Monitoring Stack Setup"})}),"\n",(0,o.jsxs)(n.p,{children:["Add comprehensive monitoring to your LLM deployment with ",(0,o.jsx)(n.strong,{children:"Prometheus"}),", ",(0,o.jsx)(n.strong,{children:"Grafana"}),", ",(0,o.jsx)(n.strong,{children:"cAdvisor"}),", and ",(0,o.jsx)(n.strong,{children:"Node Exporter"}),". Get real-time insights into system performance, resource usage, and container metrics."]}),"\n",(0,o.jsx)(n.h2,{id:"-monitoring-components",children:"\ud83c\udfaf Monitoring Components"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Service"}),(0,o.jsx)(n.th,{children:"Purpose"}),(0,o.jsx)(n.th,{children:"Port"}),(0,o.jsx)(n.th,{children:"Dashboard"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Prometheus"})}),(0,o.jsx)(n.td,{children:"Metrics collection & alerting"}),(0,o.jsx)(n.td,{children:"9090"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"http://localhost:9090",children:"localhost:9090"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Grafana"})}),(0,o.jsx)(n.td,{children:"Interactive dashboards"}),(0,o.jsx)(n.td,{children:"4001"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"http://localhost:4001",children:"localhost:4001"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"cAdvisor"})}),(0,o.jsx)(n.td,{children:"Container metrics"}),(0,o.jsx)(n.td,{children:"8082"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"http://localhost:8082",children:"localhost:8082"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Node Exporter"})}),(0,o.jsx)(n.td,{children:"System metrics"}),(0,o.jsx)(n.td,{children:"9100"}),(0,o.jsx)(n.td,{children:"Raw metrics endpoint"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"-step-1-create-monitoring-network",children:"\ud83d\udd39 Step 1: Create Monitoring Network"}),"\n",(0,o.jsx)(n.p,{children:"Create a separate network for monitoring services:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker network create monitor-net\n"})}),"\n",(0,o.jsx)(n.p,{children:"This isolates monitoring from the LLM services while allowing metric collection."}),"\n",(0,o.jsx)(n.h2,{id:"-step-2-configure-prometheus",children:"\ud83d\udd39 Step 2: Configure Prometheus"}),"\n",(0,o.jsx)(n.h3,{id:"create-configuration-file",children:"Create Configuration File"}),"\n",(0,o.jsx)(n.p,{children:"First, create the Prometheus configuration in your project root:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",metastring:'title="prometheus.yml"',children:"global:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n\nrule_files:\n  # - \"first_rules.yml\"\n  # - \"second_rules.yml\"\n\nscrape_configs:\n  # Prometheus monitoring itself\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['prometheus:9090']\n\n  # Container metrics from cAdvisor\n  - job_name: 'cadvisor'\n    static_configs:\n      - targets: ['cadvisor:8080']\n\n  # Host system metrics from Node Exporter\n  - job_name: 'node-exporter'\n    static_configs:\n      - targets: ['node-exporter:9100']\n\n  # Optional: Monitor your LLM services\n  - job_name: 'ollama'\n    static_configs:\n      - targets: ['host.docker.internal:11444']\n    metrics_path: /metrics\n    scrape_interval: 30s\n"})}),"\n",(0,o.jsx)(n.h3,{id:"deploy-prometheus",children:"Deploy Prometheus"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  --name prometheus \\\n  --network monitor-net \\\n  -p 9090:9090 \\\n  -v prometheus-data:/prometheus \\\n  -v $(pwd)/prometheus.yml:/etc/prometheus/prometheus.yml \\\n  --restart unless-stopped \\\n  prom/prometheus\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Configuration Details:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"-v prometheus-data:/prometheus"}),": Persistent storage for metrics"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"-v $(pwd)/prometheus.yml:/etc/prometheus/prometheus.yml"}),": Mount config file"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--restart unless-stopped"}),": Auto-restart on failure"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"-step-3-deploy-cadvisor",children:"\ud83d\udd39 Step 3: Deploy cAdvisor"}),"\n",(0,o.jsx)(n.p,{children:"Monitor Docker containers and their resource usage:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  --name=cadvisor \\\n  --network monitor-net \\\n  --volume=/:/rootfs:ro \\\n  --volume=/var/run:/var/run:ro \\\n  --volume=/sys:/sys:ro \\\n  --volume=/var/lib/docker/:/var/lib/docker:ro \\\n  --publish=8082:8080 \\\n  --detach=true \\\n  --device=/dev/kmsg \\\n  --restart unless-stopped \\\n  gcr.io/cadvisor/cadvisor:latest\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Key Mount Points:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/:/rootfs:ro"}),": Read-only access to host filesystem"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/var/run:/var/run:ro"}),": Docker socket access"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/sys:/sys:ro"}),": System information"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"/var/lib/docker/:/var/lib/docker:ro"}),": Docker data directory"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"-step-4-deploy-node-exporter",children:"\ud83d\udd39 Step 4: Deploy Node Exporter"}),"\n",(0,o.jsx)(n.p,{children:"Collect host-level system metrics:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  --name=node-exporter \\\n  --network monitor-net \\\n  --pid=\"host\" \\\n  -p 9100:9100 \\\n  --restart unless-stopped \\\n  prom/node-exporter \\\n  --path.rootfs=/host \\\n  --collector.filesystem.ignored-mount-points='^/(sys|proc|dev|host|etc|rootfs/var/lib/docker/containers|rootfs/var/lib/docker/overlay2|rootfs/run/docker/netns|rootfs/var/lib/docker/aufs)($$|/)'\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Configuration Details:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:'--pid="host"'}),": Use host's process namespace"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--path.rootfs=/host"}),": Root filesystem path"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"--collector.filesystem.ignored-mount-points"}),": Ignore Docker internal mounts"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"-step-5-deploy-grafana",children:"\ud83d\udd39 Step 5: Deploy Grafana"}),"\n",(0,o.jsx)(n.p,{children:"Create beautiful dashboards for your metrics:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  --name=grafana \\\n  --network monitor-net \\\n  -p 4001:3000 \\\n  -v grafana-data:/var/lib/grafana \\\n  -e GF_SECURITY_ADMIN_PASSWORD=admin \\\n  --restart unless-stopped \\\n  grafana/grafana\n"})}),"\n",(0,o.jsx)(n.h2,{id:"-configure-grafana-dashboards",children:"\ud83c\udfa8 Configure Grafana Dashboards"}),"\n",(0,o.jsx)(n.h3,{id:"1-access-grafana",children:"1. Access Grafana"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Open ",(0,o.jsx)(n.a,{href:"http://localhost:4001",children:"http://localhost:4001"})]}),"\n",(0,o.jsxs)(n.li,{children:["Login with ",(0,o.jsx)(n.code,{children:"admin"})," / ",(0,o.jsx)(n.code,{children:"admin"})]}),"\n",(0,o.jsx)(n.li,{children:"Change the default password when prompted"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"2-add-prometheus-data-source",children:"2. Add Prometheus Data Source"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Go to ",(0,o.jsx)(n.strong,{children:"Configuration"})," \u2192 ",(0,o.jsx)(n.strong,{children:"Data Sources"})]}),"\n",(0,o.jsxs)(n.li,{children:["Click ",(0,o.jsx)(n.strong,{children:"Add data source"})]}),"\n",(0,o.jsxs)(n.li,{children:["Select ",(0,o.jsx)(n.strong,{children:"Prometheus"})]}),"\n",(0,o.jsxs)(n.li,{children:["Set URL: ",(0,o.jsx)(n.code,{children:"http://prometheus:9090"})]}),"\n",(0,o.jsxs)(n.li,{children:["Click ",(0,o.jsx)(n.strong,{children:"Save & Test"})]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"3-import-pre-built-dashboards",children:"3. Import Pre-built Dashboards"}),"\n",(0,o.jsx)(n.p,{children:"Import these popular dashboard IDs:"}),"\n",(0,o.jsx)(n.h4,{id:"node-exporter-dashboard",children:"Node Exporter Dashboard"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Dashboard ID"}),": ",(0,o.jsx)(n.code,{children:"1860"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Name"}),': "Node Exporter Full"']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Provides"}),": CPU, Memory, Disk, Network metrics"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"docker-container-dashboard",children:"Docker Container Dashboard"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Dashboard ID"}),": ",(0,o.jsx)(n.code,{children:"193"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Name"}),': "Docker Monitoring"']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Provides"}),": Container resource usage"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"custom-llm-dashboard",children:"Custom LLM Dashboard"}),"\n",(0,o.jsx)(n.p,{children:"Create a custom dashboard for LLM-specific metrics:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",metastring:'title="LLM Dashboard Panels"',children:'{\n  "dashboard": {\n    "title": "LLM Stack Monitoring",\n    "panels": [\n      {\n        "title": "Ollama Container CPU",\n        "type": "graph",\n        "targets": [\n          {\n            "expr": "rate(container_cpu_usage_seconds_total{name=\\"ollama\\"}[5m]) * 100"\n          }\n        ]\n      },\n      {\n        "title": "Ollama Container Memory",\n        "type": "graph", \n        "targets": [\n          {\n            "expr": "container_memory_usage_bytes{name=\\"ollama\\"} / 1024 / 1024 / 1024"\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"-key-metrics-to-monitor",children:"\ud83d\udcca Key Metrics to Monitor"}),"\n",(0,o.jsx)(n.h3,{id:"system-metrics",children:"System Metrics"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"CPU Usage"}),": ",(0,o.jsx)(n.code,{children:'100 - (avg(irate(node_cpu_seconds_total{mode="idle"}[5m])) * 100)'})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Memory Usage"}),": ",(0,o.jsx)(n.code,{children:"(1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Disk Usage"}),": ",(0,o.jsx)(n.code,{children:'100 - ((node_filesystem_avail_bytes{mountpoint="/"} * 100) / node_filesystem_size_bytes{mountpoint="/"})'})]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"container-metrics",children:"Container Metrics"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Ollama CPU"}),": ",(0,o.jsx)(n.code,{children:'rate(container_cpu_usage_seconds_total{name="ollama"}[5m]) * 100'})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Ollama Memory"}),": ",(0,o.jsx)(n.code,{children:'container_memory_usage_bytes{name="ollama"}'})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"WebUI Requests"}),": ",(0,o.jsx)(n.code,{children:'rate(container_network_receive_bytes_total{name="open-webui"}[5m])'})]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"custom-alerts",children:"Custom Alerts"}),"\n",(0,o.jsx)(n.p,{children:"Set up alerts for critical conditions:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",metastring:'title="prometheus-alerts.yml"',children:'groups:\n  - name: llm-stack-alerts\n    rules:\n      - alert: HighCPUUsage\n        expr: (100 - (avg(irate(node_cpu_seconds_total{mode="idle"}[5m])) * 100)) > 80\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: "High CPU usage detected"\n          \n      - alert: LowMemory\n        expr: (1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100 > 90\n        for: 2m\n        labels:\n          severity: critical\n        annotations:\n          summary: "Low memory available"\n          \n      - alert: OllamaDown\n        expr: up{job="ollama"} == 0\n        for: 1m\n        labels:\n          severity: critical\n        annotations:\n          summary: "Ollama service is down"\n'})}),"\n",(0,o.jsx)(n.h2,{id:"-monitoring-commands",children:"\ud83d\udd27 Monitoring Commands"}),"\n",(0,o.jsx)(n.h3,{id:"check-services-status",children:"Check Services Status"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Check all monitoring containers\ndocker ps --filter "network=monitor-net"\n\n# View service logs\ndocker logs prometheus\ndocker logs grafana\ndocker logs cadvisor\ndocker logs node-exporter\n'})}),"\n",(0,o.jsx)(n.h3,{id:"prometheus-queries",children:"Prometheus Queries"}),"\n",(0,o.jsxs)(n.p,{children:["Test these queries in Prometheus UI (",(0,o.jsx)(n.a,{href:"http://localhost:9090",children:"localhost:9090"}),"):"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-promql",children:"# CPU usage by container\nrate(container_cpu_usage_seconds_total[5m]) * 100\n\n# Memory usage by container\ncontainer_memory_usage_bytes / 1024 / 1024\n\n# Network I/O by container\nrate(container_network_receive_bytes_total[5m])\n"})}),"\n",(0,o.jsx)(n.h3,{id:"backup-monitoring-data",children:"Backup Monitoring Data"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Backup Prometheus data\ndocker run --rm -v prometheus-data:/data -v $(pwd):/backup alpine tar czf /backup/prometheus-backup.tar.gz -C /data .\n\n# Backup Grafana data\ndocker run --rm -v grafana-data:/data -v $(pwd):/backup alpine tar czf /backup/grafana-backup.tar.gz -C /data .\n"})}),"\n",(0,o.jsx)(n.h2,{id:"-connect-monitoring-to-llm-stack",children:"\ud83d\udd17 Connect Monitoring to LLM Stack"}),"\n",(0,o.jsx)(n.p,{children:"To monitor the LLM containers from the monitoring stack:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Connect monitoring network to LLM containers\ndocker network connect monitor-net ollama\ndocker network connect monitor-net open-webui\n"})}),"\n",(0,o.jsx)(n.p,{children:"This allows Prometheus to scrape metrics from your LLM services."}),"\n",(0,o.jsx)(n.h2,{id:"-troubleshooting",children:"\ud83d\udea8 Troubleshooting"}),"\n",(0,o.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Prometheus can't scrape targets:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Check network connectivity\ndocker exec prometheus ping cadvisor\ndocker exec prometheus ping node-exporter\n\n# Verify config file\ndocker exec prometheus cat /etc/prometheus/prometheus.yml\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Grafana dashboards not loading:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Check data source connection\n# Go to Grafana \u2192 Data Sources \u2192 Test connection\n\n# Restart Grafana\ndocker restart grafana\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"cAdvisor permission errors:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Ensure proper volume mounts\ndocker inspect cadvisor | grep -A 10 "Mounts"\n\n# Check if running on supported system\nuname -a\n'})}),"\n",(0,o.jsx)(n.h3,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Reduce metrics retention:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Restart Prometheus with shorter retention\ndocker run -d \\\n  --name prometheus \\\n  --network monitor-net \\\n  -p 9090:9090 \\\n  -v prometheus-data:/prometheus \\\n  -v $(pwd)/prometheus.yml:/etc/prometheus/prometheus.yml \\\n  prom/prometheus \\\n  --storage.tsdb.retention.time=7d\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Optimize scrape intervals:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Increase ",(0,o.jsx)(n.code,{children:"scrape_interval"})," to 30s or 60s for less critical metrics"]}),"\n",(0,o.jsx)(n.li,{children:"Use different intervals for different job types"}),"\n",(0,o.jsx)(n.li,{children:"Disable unnecessary collectors in Node Exporter"}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.admonition,{title:"Dashboard Tip",type:"tip",children:(0,o.jsx)(n.p,{children:"Start with the pre-built dashboards (ID 1860 for Node Exporter) and customize them based on your specific monitoring needs. This gives you a solid foundation to build upon!"})}),"\n",(0,o.jsxs)(n.p,{children:["Next: ",(0,o.jsx)(n.a,{href:"./security",children:"Security & Isolation \u2192"})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>a});var s=r(6540);const o={},t=s.createContext(o);function i(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);